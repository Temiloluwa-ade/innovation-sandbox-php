language: php
php:
  - '5.4'
  - '5.6'
  - '7.0'
  - '7.1'
  - '7.2'

install:
 - composer install

before_script:
  - curl -sS https://getcomposer.org/installer | php
  - chmod +x ./composer.phar
  - ./composer.phar --version
  - ./composer.phar install --dev

script:
  - vendor/bin/phplint
  - vendor/bin/phpunit


jobs:
  include:
    - stage: deploy
      php: '7.4'
      script: echo 'deploy ready?'
      deploy:
        edge: true
        provider: packagist
        on:
          tags: true
          branch: master